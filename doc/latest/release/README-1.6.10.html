<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>AspectJ 1.6.10</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>AspectJ 1.6.10</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_changes">Changes</a>
<ul class="sectlevel2">
<li><a href="#_ajdt_memory_usage">AJDT Memory usage</a></li>
<li><a href="#_runtime_changes">Runtime changes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Â© Copyright 2010 Contributors. All rights reserved.</em></p>
</div>
<div class="paragraph">
<p>The full list of resolved issues in 1.6.10 is available
<a href="https://bugs.eclipse.org/bugs/buglist.cgi?query_format=advanced;bug_status=RESOLVED;bug_status=VERIFIED;bug_status=CLOSED;product=AspectJ;target_milestone=1.6.10;target_milestone=1.6.10M1;target_milestone=1.6.10M2;target_milestone=1.6.10RC1">here</a></p>
</div>
<div class="paragraph">
<p><em>Release info: 1.6.10 available 17-Nov-2010</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changes">Changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>1.6.10 is primilarily just bug fixes for AspectJ, mainly in the areas of
ITDs and generic aspects. However, there are a couple of important
changes that users ought to be aware of:</p>
</div>
<div class="sect2">
<h3 id="_ajdt_memory_usage">AJDT Memory usage</h3>
<div class="paragraph">
<p>Type demotion has been in use during loadtime weaving for a while now,
this enables the load time weavers to discard state and recover it at a
later time (and so generally run with a smaller memory footprint). Type
demotion is now supported under AJDT in Eclipse and will enable AJDT to
run with smaller heaps. This feature is still experimental and needs
turning ON if you want to try it out. To turn it on, open your AspectJ
project properties in eclipse and in the AspectJ Compiler section,
scroll down to 'Other' and in the non-standard compiler options setting,
specify:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">-Xset:minimalModel=true,typeDemotion=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>If I can get enough positive feedback about this option, it will be made
the default. For a more detailed write up, check out the blog post:
<a href="https://andrewclement.blogspot.com/2010/07/ajdt-memory-usage-reduction.html" class="bare">https://andrewclement.blogspot.com/2010/07/ajdt-memory-usage-reduction.html</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_changes">Runtime changes</h3>
<div class="paragraph">
<p>A big thank you to Abraham Nevado and his team who have been working on
some issues to optimize loadtime weaving and the code generated by
AspectJ. 1.6.10 includes some new changes to the aspectjrt.jar. The
changes are new methods that enable the woven code to be a little
shorter/neater. As we want to continue to have compatibility with older
aspectjrt.jar a user needs to choose to activate these optimizations by
specifying the option: -Xset:targetRuntime1_6_10=true. With that option
on you will need to ensure you run against the aspectjrt.jar from a
1.6.10 build.</p>
</div>
<div class="paragraph">
<p>The changes are discussed in
<a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=323438">bug 323438</a></p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>